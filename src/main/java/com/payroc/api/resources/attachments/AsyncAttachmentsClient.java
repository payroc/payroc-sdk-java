/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.payroc.api.resources.attachments;

import com.payroc.api.core.ClientOptions;
import com.payroc.api.core.RequestOptions;
import com.payroc.api.resources.attachments.requests.RetrieveAttachmentsRequest;
import com.payroc.api.resources.attachments.requests.UploadAttachment;
import com.payroc.api.resources.attachments.types.Attachment;
import java.io.File;
import java.io.InputStream;
import java.util.concurrent.CompletableFuture;
import okhttp3.MediaType;

public class AsyncAttachmentsClient {
    protected final ClientOptions clientOptions;

    private final AsyncRawAttachmentsClient rawClient;

    public AsyncAttachmentsClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new AsyncRawAttachmentsClient(clientOptions);
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public AsyncRawAttachmentsClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * <blockquote>
     * Before you upload an attachment, make sure that you follow local privacy regulations and get the merchant's consent to process their information.
     * </blockquote>
     * <p><strong>Note:</strong> You need the ID of the processing account before you can upload an attachment. If you don't know the processingAccountId, go to the <a href="https://docs.payroc.com/api/schema/boarding/merchant-platforms/retrieve">Retrieve a Merchant Platform</a> method.</p>
     * <p>The attachment must be an uncompressed file under 30MB in one of the following formats:</p>
     * <ul>
     * <li>.bmp, csv, .doc, .docx, .gif, .htm, .html, .jpg, .jpeg, .msg, .pdf, .png, .ppt, .pptx, .tif, .tiff, .txt, .xls, .xlsx</li>
     * </ul>
     * <p>In the request, include the attachment that you want to upload and the following information about the attachment:</p>
     * <ul>
     * <li><strong>type</strong> - Type of attachment that you want to upload.</li>
     * <li><strong>description</strong> - Short description of the attachment.</li>
     * </ul>
     * <p>In the response, our gateway returns information about the attachment including its upload status and an attachmentId that you can use to <a href="https://docs.payroc.com/api/schema/attachments/retrieve">Retrieve the details of the Attachment</a>.</p>
     */
    public CompletableFuture<Attachment> uploadToProcessingAccount(
            String processingAccountId, File file, UploadAttachment request) {
        return this.rawClient
                .uploadToProcessingAccount(processingAccountId, file, request)
                .thenApply(response -> response.body());
    }

    /**
     * <blockquote>
     * Before you upload an attachment, make sure that you follow local privacy regulations and get the merchant's consent to process their information.
     * </blockquote>
     * <p><strong>Note:</strong> You need the ID of the processing account before you can upload an attachment. If you don't know the processingAccountId, go to the <a href="https://docs.payroc.com/api/schema/boarding/merchant-platforms/retrieve">Retrieve a Merchant Platform</a> method.</p>
     * <p>The attachment must be an uncompressed file under 30MB in one of the following formats:</p>
     * <ul>
     * <li>.bmp, csv, .doc, .docx, .gif, .htm, .html, .jpg, .jpeg, .msg, .pdf, .png, .ppt, .pptx, .tif, .tiff, .txt, .xls, .xlsx</li>
     * </ul>
     * <p>In the request, include the attachment that you want to upload and the following information about the attachment:</p>
     * <ul>
     * <li><strong>type</strong> - Type of attachment that you want to upload.</li>
     * <li><strong>description</strong> - Short description of the attachment.</li>
     * </ul>
     * <p>In the response, our gateway returns information about the attachment including its upload status and an attachmentId that you can use to <a href="https://docs.payroc.com/api/schema/attachments/retrieve">Retrieve the details of the Attachment</a>.</p>
     */
    public CompletableFuture<Attachment> uploadToProcessingAccount(
            String processingAccountId, File file, UploadAttachment request, RequestOptions requestOptions) {
        return this.rawClient
                .uploadToProcessingAccount(processingAccountId, file, request, requestOptions)
                .thenApply(response -> response.body());
    }

    public CompletableFuture<Attachment> uploadToProcessingAccount(
            String processingAccountId, InputStream stream, String filename) {
        return this.rawClient
                .uploadToProcessingAccount(processingAccountId, stream, filename)
                .thenApply(response -> response.body());
    }

    public CompletableFuture<Attachment> uploadToProcessingAccount(
            String processingAccountId, InputStream stream, String filename, MediaType mediaType) {
        return this.rawClient
                .uploadToProcessingAccount(processingAccountId, stream, filename, mediaType)
                .thenApply(response -> response.body());
    }

    public CompletableFuture<Attachment> uploadToProcessingAccount(
            String processingAccountId, InputStream stream, String filename, RequestOptions requestOptions) {
        return this.rawClient
                .uploadToProcessingAccount(processingAccountId, stream, filename, requestOptions)
                .thenApply(response -> response.body());
    }

    public CompletableFuture<Attachment> uploadToProcessingAccount(
            String processingAccountId,
            InputStream stream,
            String filename,
            MediaType mediaType,
            RequestOptions requestOptions) {
        return this.rawClient
                .uploadToProcessingAccount(processingAccountId, stream, filename, mediaType, requestOptions)
                .thenApply(response -> response.body());
    }

    /**
     * Use this method to retrieve the details of an attachment.
     * <p>To retrieve the details of an attachment you need its attachmentId. Our gateway returned the attachmentId in the response of the method that you used to upload the attachment.</p>
     * <p>Our gateway returns information about the attachment, including its upload status and the entity that the attachment is linked to. Our gateway doesn't return the file that you uploaded.</p>
     */
    public CompletableFuture<Attachment> retrieve(String attachmentId) {
        return this.rawClient.retrieve(attachmentId).thenApply(response -> response.body());
    }

    /**
     * Use this method to retrieve the details of an attachment.
     * <p>To retrieve the details of an attachment you need its attachmentId. Our gateway returned the attachmentId in the response of the method that you used to upload the attachment.</p>
     * <p>Our gateway returns information about the attachment, including its upload status and the entity that the attachment is linked to. Our gateway doesn't return the file that you uploaded.</p>
     */
    public CompletableFuture<Attachment> retrieve(String attachmentId, RequestOptions requestOptions) {
        return this.rawClient.retrieve(attachmentId, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Use this method to retrieve the details of an attachment.
     * <p>To retrieve the details of an attachment you need its attachmentId. Our gateway returned the attachmentId in the response of the method that you used to upload the attachment.</p>
     * <p>Our gateway returns information about the attachment, including its upload status and the entity that the attachment is linked to. Our gateway doesn't return the file that you uploaded.</p>
     */
    public CompletableFuture<Attachment> retrieve(String attachmentId, RetrieveAttachmentsRequest request) {
        return this.rawClient.retrieve(attachmentId, request).thenApply(response -> response.body());
    }

    /**
     * Use this method to retrieve the details of an attachment.
     * <p>To retrieve the details of an attachment you need its attachmentId. Our gateway returned the attachmentId in the response of the method that you used to upload the attachment.</p>
     * <p>Our gateway returns information about the attachment, including its upload status and the entity that the attachment is linked to. Our gateway doesn't return the file that you uploaded.</p>
     */
    public CompletableFuture<Attachment> retrieve(
            String attachmentId, RetrieveAttachmentsRequest request, RequestOptions requestOptions) {
        return this.rawClient.retrieve(attachmentId, request, requestOptions).thenApply(response -> response.body());
    }
}
