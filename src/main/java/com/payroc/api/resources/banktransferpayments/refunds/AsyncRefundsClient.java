/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.payroc.api.resources.banktransferpayments.refunds;

import com.payroc.api.core.ClientOptions;
import com.payroc.api.core.RequestOptions;
import com.payroc.api.core.pagination.AsyncPayrocPager;
import com.payroc.api.resources.banktransferpayments.refunds.requests.BankTransferReferencedRefund;
import com.payroc.api.resources.banktransferpayments.refunds.requests.BankTransferUnreferencedRefund;
import com.payroc.api.resources.banktransferpayments.refunds.requests.ListRefundsRequest;
import com.payroc.api.resources.banktransferpayments.refunds.requests.RetrieveRefundsRequest;
import com.payroc.api.resources.banktransferpayments.refunds.requests.ReversePaymentRefundsRequest;
import com.payroc.api.resources.banktransferpayments.refunds.requests.ReverseRefundRefundsRequest;
import com.payroc.api.types.BankTransferPayment;
import com.payroc.api.types.BankTransferRefund;
import java.util.concurrent.CompletableFuture;

public class AsyncRefundsClient {
    protected final ClientOptions clientOptions;

    private final AsyncRawRefundsClient rawClient;

    public AsyncRefundsClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new AsyncRawRefundsClient(clientOptions);
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public AsyncRawRefundsClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Use this method to cancel a bank transfer payment in an open batch. This is also known as voiding a payment.
     * <p>To cancel a bank transfer payment, you need its paymentId. Our gateway returned the paymentId in the response of the <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/payments/create">Create Payment</a> method.</p>
     * <p><strong>Note:</strong> If you don't have the paymentId, use our <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/payments/list">List Payments</a> method to search for the bank transfer payment.</p>
     * <p>If your request is successful, our gateway removes the bank transfer payment from the merchant’s open batch and no funds are taken from the customer's bank account.</p>
     */
    public CompletableFuture<BankTransferPayment> reversePayment(
            String paymentId, ReversePaymentRefundsRequest request) {
        return this.rawClient.reversePayment(paymentId, request).thenApply(response -> response.body());
    }

    /**
     * Use this method to cancel a bank transfer payment in an open batch. This is also known as voiding a payment.
     * <p>To cancel a bank transfer payment, you need its paymentId. Our gateway returned the paymentId in the response of the <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/payments/create">Create Payment</a> method.</p>
     * <p><strong>Note:</strong> If you don't have the paymentId, use our <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/payments/list">List Payments</a> method to search for the bank transfer payment.</p>
     * <p>If your request is successful, our gateway removes the bank transfer payment from the merchant’s open batch and no funds are taken from the customer's bank account.</p>
     */
    public CompletableFuture<BankTransferPayment> reversePayment(
            String paymentId, ReversePaymentRefundsRequest request, RequestOptions requestOptions) {
        return this.rawClient.reversePayment(paymentId, request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Use this method to refund a bank transfer payment that is in a closed batch.
     * <p>To refund a bank transfer payment, you need its paymentId. Our gateway returned the paymentId in the response of the <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/payments/create">Create Payment</a> method.</p>
     * <p><strong>Note:</strong> If you don’t have the paymentId, use our <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/payments/list">List Payments</a> method to search for the bank transfer payment.</p>
     * <p>If your refund is successful, our gateway returns the payment amount to the customer's account.</p>
     * <p><strong>Things to consider</strong></p>
     * <ul>
     * <li>If the merchant refunds a bank transfer payment that is in an open batch, our gateway reverses the bank transfer payment.</li>
     * <li>Some merchants can run unreferenced refunds, which means that they don’t need a paymentId to return an amount to a customer. For more information about how to run an unreferenced refund, go to <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/refunds/create">Create Refund</a>.</li>
     * </ul>
     */
    public CompletableFuture<BankTransferPayment> refund(String paymentId, BankTransferReferencedRefund request) {
        return this.rawClient.refund(paymentId, request).thenApply(response -> response.body());
    }

    /**
     * Use this method to refund a bank transfer payment that is in a closed batch.
     * <p>To refund a bank transfer payment, you need its paymentId. Our gateway returned the paymentId in the response of the <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/payments/create">Create Payment</a> method.</p>
     * <p><strong>Note:</strong> If you don’t have the paymentId, use our <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/payments/list">List Payments</a> method to search for the bank transfer payment.</p>
     * <p>If your refund is successful, our gateway returns the payment amount to the customer's account.</p>
     * <p><strong>Things to consider</strong></p>
     * <ul>
     * <li>If the merchant refunds a bank transfer payment that is in an open batch, our gateway reverses the bank transfer payment.</li>
     * <li>Some merchants can run unreferenced refunds, which means that they don’t need a paymentId to return an amount to a customer. For more information about how to run an unreferenced refund, go to <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/refunds/create">Create Refund</a>.</li>
     * </ul>
     */
    public CompletableFuture<BankTransferPayment> refund(
            String paymentId, BankTransferReferencedRefund request, RequestOptions requestOptions) {
        return this.rawClient.refund(paymentId, request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Use this method to return a <a href="https://docs.payroc.com/api/pagination">paginated</a> list of bank transfer refunds.
     * <p><strong>Note:</strong> If you want to view the details of a specific refund and you have its refundId, use our <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/refunds/retrieve">Retrieve Refund</a> method.</p>
     * <p>Use query parameters to filter the list of results that we return, for example, to search for refunds for a customer, an orderId, or a date range.</p>
     * <p>Our gateway returns the following information about each refund in the list:</p>
     * <ul>
     * <li>Order details, including the refund amount and when it was processed.</li>
     * <li>Bank account details, including the customer’s name and account number.</li>
     * </ul>
     * <p>For referenced refunds, our gateway also returns details about the payment that the refund is linked to.</p>
     */
    public CompletableFuture<CompletableFuture<AsyncPayrocPager<BankTransferRefund>>> list(ListRefundsRequest request) {
        return this.rawClient.list(request).thenApply(response -> response.body());
    }

    /**
     * Use this method to return a <a href="https://docs.payroc.com/api/pagination">paginated</a> list of bank transfer refunds.
     * <p><strong>Note:</strong> If you want to view the details of a specific refund and you have its refundId, use our <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/refunds/retrieve">Retrieve Refund</a> method.</p>
     * <p>Use query parameters to filter the list of results that we return, for example, to search for refunds for a customer, an orderId, or a date range.</p>
     * <p>Our gateway returns the following information about each refund in the list:</p>
     * <ul>
     * <li>Order details, including the refund amount and when it was processed.</li>
     * <li>Bank account details, including the customer’s name and account number.</li>
     * </ul>
     * <p>For referenced refunds, our gateway also returns details about the payment that the refund is linked to.</p>
     */
    public CompletableFuture<CompletableFuture<AsyncPayrocPager<BankTransferRefund>>> list(
            ListRefundsRequest request, RequestOptions requestOptions) {
        return this.rawClient.list(request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Use this method to create an unreferenced refund. An unreferenced refund is a refund that isn’t linked to a bank transfer payment.
     * <p><strong>Note:</strong> If you have the paymentId of the payment you want to refund, use our <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/refunds/refund">Refund Payment</a> method. If you use our Refund Payment method, our gateway sends the refund amount to the customer’s original payment method and links the refund to the payment.</p>
     * <p>In the request, you must provide the customer’s payment method and information about the order including the refund amount.</p>
     * <p>In the response, our gateway returns information about the refund and a refundId, which you need for the following methods:</p>
     * <ul>
     * <li><a href="https://docs.payroc.com/api/schema/bank-transfer-payments/refunds/retrieve">Retrieve refund</a> – View the details of the refund.</li>
     * <li><a href="https://docs.payroc.com/api/schema/bank-transfer-payments/refunds/reverse-refund">Reverse refund</a> – Cancel the refund if it’s in an open batch.</li>
     * </ul>
     */
    public CompletableFuture<BankTransferRefund> create(BankTransferUnreferencedRefund request) {
        return this.rawClient.create(request).thenApply(response -> response.body());
    }

    /**
     * Use this method to create an unreferenced refund. An unreferenced refund is a refund that isn’t linked to a bank transfer payment.
     * <p><strong>Note:</strong> If you have the paymentId of the payment you want to refund, use our <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/refunds/refund">Refund Payment</a> method. If you use our Refund Payment method, our gateway sends the refund amount to the customer’s original payment method and links the refund to the payment.</p>
     * <p>In the request, you must provide the customer’s payment method and information about the order including the refund amount.</p>
     * <p>In the response, our gateway returns information about the refund and a refundId, which you need for the following methods:</p>
     * <ul>
     * <li><a href="https://docs.payroc.com/api/schema/bank-transfer-payments/refunds/retrieve">Retrieve refund</a> – View the details of the refund.</li>
     * <li><a href="https://docs.payroc.com/api/schema/bank-transfer-payments/refunds/reverse-refund">Reverse refund</a> – Cancel the refund if it’s in an open batch.</li>
     * </ul>
     */
    public CompletableFuture<BankTransferRefund> create(
            BankTransferUnreferencedRefund request, RequestOptions requestOptions) {
        return this.rawClient.create(request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Use this method to retrieve information about a refund.
     * <p>To retrieve a refund, you need its refundId. Our gateway returned the refundId in the response of the <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/refunds/refund">Refund Payment</a> method or the <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/refunds/create">Create Refund</a> method.</p>
     * <p><strong>Note:</strong> If you don’t have the refundId, use our <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/refunds/list">List Refunds</a> method to search for the refund.</p>
     * <p>Our gateway returns the following information about the refund:</p>
     * <ul>
     * <li>Order details, including the refund amount and when it was processed.</li>
     * <li>Bank account details, including the customer’s name and account number.</li>
     * </ul>
     * <p>If the refund is a referenced refund, our gateway also returns details about the payment that the refund is linked to.</p>
     */
    public CompletableFuture<BankTransferRefund> retrieve(String refundId) {
        return this.rawClient.retrieve(refundId).thenApply(response -> response.body());
    }

    /**
     * Use this method to retrieve information about a refund.
     * <p>To retrieve a refund, you need its refundId. Our gateway returned the refundId in the response of the <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/refunds/refund">Refund Payment</a> method or the <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/refunds/create">Create Refund</a> method.</p>
     * <p><strong>Note:</strong> If you don’t have the refundId, use our <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/refunds/list">List Refunds</a> method to search for the refund.</p>
     * <p>Our gateway returns the following information about the refund:</p>
     * <ul>
     * <li>Order details, including the refund amount and when it was processed.</li>
     * <li>Bank account details, including the customer’s name and account number.</li>
     * </ul>
     * <p>If the refund is a referenced refund, our gateway also returns details about the payment that the refund is linked to.</p>
     */
    public CompletableFuture<BankTransferRefund> retrieve(String refundId, RequestOptions requestOptions) {
        return this.rawClient.retrieve(refundId, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Use this method to retrieve information about a refund.
     * <p>To retrieve a refund, you need its refundId. Our gateway returned the refundId in the response of the <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/refunds/refund">Refund Payment</a> method or the <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/refunds/create">Create Refund</a> method.</p>
     * <p><strong>Note:</strong> If you don’t have the refundId, use our <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/refunds/list">List Refunds</a> method to search for the refund.</p>
     * <p>Our gateway returns the following information about the refund:</p>
     * <ul>
     * <li>Order details, including the refund amount and when it was processed.</li>
     * <li>Bank account details, including the customer’s name and account number.</li>
     * </ul>
     * <p>If the refund is a referenced refund, our gateway also returns details about the payment that the refund is linked to.</p>
     */
    public CompletableFuture<BankTransferRefund> retrieve(String refundId, RetrieveRefundsRequest request) {
        return this.rawClient.retrieve(refundId, request).thenApply(response -> response.body());
    }

    /**
     * Use this method to retrieve information about a refund.
     * <p>To retrieve a refund, you need its refundId. Our gateway returned the refundId in the response of the <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/refunds/refund">Refund Payment</a> method or the <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/refunds/create">Create Refund</a> method.</p>
     * <p><strong>Note:</strong> If you don’t have the refundId, use our <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/refunds/list">List Refunds</a> method to search for the refund.</p>
     * <p>Our gateway returns the following information about the refund:</p>
     * <ul>
     * <li>Order details, including the refund amount and when it was processed.</li>
     * <li>Bank account details, including the customer’s name and account number.</li>
     * </ul>
     * <p>If the refund is a referenced refund, our gateway also returns details about the payment that the refund is linked to.</p>
     */
    public CompletableFuture<BankTransferRefund> retrieve(
            String refundId, RetrieveRefundsRequest request, RequestOptions requestOptions) {
        return this.rawClient.retrieve(refundId, request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Use this method to cancel a bank transfer refund in an open batch.
     * <p>To cancel a refund, you need its refundId. Our gateway returned the refundId in the response of the <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/refunds/refund">Refund Payment</a> or <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/refunds/create">Create Refund</a> method.</p>
     * <p><strong>Note:</strong> If you don’t have the refundId, use our <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/refunds/list">List Refunds</a> method to search for the refund.</p>
     * <p>If your request is successful, the gateway removes the refund from the merchant’s open batch, and no funds are returned to the cardholder’s account.</p>
     */
    public CompletableFuture<BankTransferRefund> reverseRefund(String refundId, ReverseRefundRefundsRequest request) {
        return this.rawClient.reverseRefund(refundId, request).thenApply(response -> response.body());
    }

    /**
     * Use this method to cancel a bank transfer refund in an open batch.
     * <p>To cancel a refund, you need its refundId. Our gateway returned the refundId in the response of the <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/refunds/refund">Refund Payment</a> or <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/refunds/create">Create Refund</a> method.</p>
     * <p><strong>Note:</strong> If you don’t have the refundId, use our <a href="https://docs.payroc.com/api/schema/bank-transfer-payments/refunds/list">List Refunds</a> method to search for the refund.</p>
     * <p>If your request is successful, the gateway removes the refund from the merchant’s open batch, and no funds are returned to the cardholder’s account.</p>
     */
    public CompletableFuture<BankTransferRefund> reverseRefund(
            String refundId, ReverseRefundRefundsRequest request, RequestOptions requestOptions) {
        return this.rawClient.reverseRefund(refundId, request, requestOptions).thenApply(response -> response.body());
    }
}
