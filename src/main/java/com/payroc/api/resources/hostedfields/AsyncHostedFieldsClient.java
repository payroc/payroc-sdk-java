/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.payroc.api.resources.hostedfields;

import com.payroc.api.core.ClientOptions;
import com.payroc.api.core.RequestOptions;
import com.payroc.api.resources.hostedfields.requests.HostedFieldsCreateSessionRequest;
import com.payroc.api.types.HostedFieldsCreateSessionResponse;
import java.util.concurrent.CompletableFuture;

public class AsyncHostedFieldsClient {
    protected final ClientOptions clientOptions;

    private final AsyncRawHostedFieldsClient rawClient;

    public AsyncHostedFieldsClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new AsyncRawHostedFieldsClient(clientOptions);
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public AsyncRawHostedFieldsClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Use this method to create a Hosted Fields session token. You need to generate a new session token each time you load Hosted Fields on a webpage.
     * <p>In your request, you need to indicate whether the merchant is using Hosted Fields to run a sale, save payment details, or update saved payment details.</p>
     * <p>In the response, our gateway returns the session token and the time that it expires. You need the session token when you configure the JavaScript for Hosted Fields.</p>
     * <p>For more information about adding Hosted Fields to a webpage, go to <a href="https://docs.payroc.com/guides/take-payments/hosted-fields">Hosted Fields</a>.</p>
     */
    public CompletableFuture<HostedFieldsCreateSessionResponse> create(
            String processingTerminalId, HostedFieldsCreateSessionRequest request) {
        return this.rawClient.create(processingTerminalId, request).thenApply(response -> response.body());
    }

    /**
     * Use this method to create a Hosted Fields session token. You need to generate a new session token each time you load Hosted Fields on a webpage.
     * <p>In your request, you need to indicate whether the merchant is using Hosted Fields to run a sale, save payment details, or update saved payment details.</p>
     * <p>In the response, our gateway returns the session token and the time that it expires. You need the session token when you configure the JavaScript for Hosted Fields.</p>
     * <p>For more information about adding Hosted Fields to a webpage, go to <a href="https://docs.payroc.com/guides/take-payments/hosted-fields">Hosted Fields</a>.</p>
     */
    public CompletableFuture<HostedFieldsCreateSessionResponse> create(
            String processingTerminalId, HostedFieldsCreateSessionRequest request, RequestOptions requestOptions) {
        return this.rawClient
                .create(processingTerminalId, request, requestOptions)
                .thenApply(response -> response.body());
    }
}
