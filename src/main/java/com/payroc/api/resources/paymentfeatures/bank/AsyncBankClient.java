/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.payroc.api.resources.paymentfeatures.bank;

import com.payroc.api.core.ClientOptions;
import com.payroc.api.core.RequestOptions;
import com.payroc.api.resources.paymentfeatures.bank.requests.BankAccountVerificationRequest;
import com.payroc.api.types.BankAccountVerificationResult;
import java.util.concurrent.CompletableFuture;

public class AsyncBankClient {
    protected final ClientOptions clientOptions;

    private final AsyncRawBankClient rawClient;

    public AsyncBankClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new AsyncRawBankClient(clientOptions);
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public AsyncRawBankClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Use this method to verify a customer's bank account details.
     * <p>In the request, send the customer's bank account details. Our gateway can verify the following types of bank details:</p>
     * <ul>
     * <li>Automated Clearing House (ACH) details</li>
     * <li>Pre-Authorized Debit (PAD) details</li>
     * </ul>
     * <p>In the response, our gateway indicates if the account details are valid and if you should use them in follow-on actions.</p>
     */
    public CompletableFuture<BankAccountVerificationResult> verify(BankAccountVerificationRequest request) {
        return this.rawClient.verify(request).thenApply(response -> response.body());
    }

    /**
     * Use this method to verify a customer's bank account details.
     * <p>In the request, send the customer's bank account details. Our gateway can verify the following types of bank details:</p>
     * <ul>
     * <li>Automated Clearing House (ACH) details</li>
     * <li>Pre-Authorized Debit (PAD) details</li>
     * </ul>
     * <p>In the response, our gateway indicates if the account details are valid and if you should use them in follow-on actions.</p>
     */
    public CompletableFuture<BankAccountVerificationResult> verify(
            BankAccountVerificationRequest request, RequestOptions requestOptions) {
        return this.rawClient.verify(request, requestOptions).thenApply(response -> response.body());
    }
}
