/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.payroc.api.resources.paymentlinks.sharingevents;

import com.payroc.api.core.ClientOptions;
import com.payroc.api.core.RequestOptions;
import com.payroc.api.core.pagination.AsyncPayrocPager;
import com.payroc.api.resources.paymentlinks.sharingevents.requests.ListSharingEventsRequest;
import com.payroc.api.resources.paymentlinks.sharingevents.requests.ShareSharingEventsRequest;
import com.payroc.api.types.PaymentLinkEmailShareEvent;
import java.util.concurrent.CompletableFuture;

public class AsyncSharingEventsClient {
    protected final ClientOptions clientOptions;

    private final AsyncRawSharingEventsClient rawClient;

    public AsyncSharingEventsClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new AsyncRawSharingEventsClient(clientOptions);
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public AsyncRawSharingEventsClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Use this method to return a <a href="https://docs.payroc.com/api/pagination">paginated</a> list of sharing events for a payment link. A sharing event occurs when a merchant shares a payment link with a customer.
     * <p>To list the sharing events for a payment link, you need its paymentLinkId. Our gateway returned the paymentLinkId in the response of the <a href="https://docs.payroc.com/api/schema/payment-links/create">Create Payment Link</a> method.</p>
     * <p><strong>Note:</strong> If you don't have the paymentLinkId, use our <a href="https://docs.payroc.com/api/schema/payment-links/list">List Payment Links</a> method to search for the payment link.</p>
     * <p>Use query parameters to filter the list of results that we return, for example, to search for links sent to a specific customer.</p>
     * <p>Our gateway returns the following information for each sharing event in the list:</p>
     * <ul>
     * <li>Customer that the merchant sent the link to.</li>
     * <li>Date that the merchant sent the link.</li>
     * </ul>
     */
    public CompletableFuture<CompletableFuture<AsyncPayrocPager<PaymentLinkEmailShareEvent>>> list(
            String paymentLinkId) {
        return this.rawClient.list(paymentLinkId).thenApply(response -> response.body());
    }

    /**
     * Use this method to return a <a href="https://docs.payroc.com/api/pagination">paginated</a> list of sharing events for a payment link. A sharing event occurs when a merchant shares a payment link with a customer.
     * <p>To list the sharing events for a payment link, you need its paymentLinkId. Our gateway returned the paymentLinkId in the response of the <a href="https://docs.payroc.com/api/schema/payment-links/create">Create Payment Link</a> method.</p>
     * <p><strong>Note:</strong> If you don't have the paymentLinkId, use our <a href="https://docs.payroc.com/api/schema/payment-links/list">List Payment Links</a> method to search for the payment link.</p>
     * <p>Use query parameters to filter the list of results that we return, for example, to search for links sent to a specific customer.</p>
     * <p>Our gateway returns the following information for each sharing event in the list:</p>
     * <ul>
     * <li>Customer that the merchant sent the link to.</li>
     * <li>Date that the merchant sent the link.</li>
     * </ul>
     */
    public CompletableFuture<CompletableFuture<AsyncPayrocPager<PaymentLinkEmailShareEvent>>> list(
            String paymentLinkId, RequestOptions requestOptions) {
        return this.rawClient.list(paymentLinkId, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Use this method to return a <a href="https://docs.payroc.com/api/pagination">paginated</a> list of sharing events for a payment link. A sharing event occurs when a merchant shares a payment link with a customer.
     * <p>To list the sharing events for a payment link, you need its paymentLinkId. Our gateway returned the paymentLinkId in the response of the <a href="https://docs.payroc.com/api/schema/payment-links/create">Create Payment Link</a> method.</p>
     * <p><strong>Note:</strong> If you don't have the paymentLinkId, use our <a href="https://docs.payroc.com/api/schema/payment-links/list">List Payment Links</a> method to search for the payment link.</p>
     * <p>Use query parameters to filter the list of results that we return, for example, to search for links sent to a specific customer.</p>
     * <p>Our gateway returns the following information for each sharing event in the list:</p>
     * <ul>
     * <li>Customer that the merchant sent the link to.</li>
     * <li>Date that the merchant sent the link.</li>
     * </ul>
     */
    public CompletableFuture<CompletableFuture<AsyncPayrocPager<PaymentLinkEmailShareEvent>>> list(
            String paymentLinkId, ListSharingEventsRequest request) {
        return this.rawClient.list(paymentLinkId, request).thenApply(response -> response.body());
    }

    /**
     * Use this method to return a <a href="https://docs.payroc.com/api/pagination">paginated</a> list of sharing events for a payment link. A sharing event occurs when a merchant shares a payment link with a customer.
     * <p>To list the sharing events for a payment link, you need its paymentLinkId. Our gateway returned the paymentLinkId in the response of the <a href="https://docs.payroc.com/api/schema/payment-links/create">Create Payment Link</a> method.</p>
     * <p><strong>Note:</strong> If you don't have the paymentLinkId, use our <a href="https://docs.payroc.com/api/schema/payment-links/list">List Payment Links</a> method to search for the payment link.</p>
     * <p>Use query parameters to filter the list of results that we return, for example, to search for links sent to a specific customer.</p>
     * <p>Our gateway returns the following information for each sharing event in the list:</p>
     * <ul>
     * <li>Customer that the merchant sent the link to.</li>
     * <li>Date that the merchant sent the link.</li>
     * </ul>
     */
    public CompletableFuture<CompletableFuture<AsyncPayrocPager<PaymentLinkEmailShareEvent>>> list(
            String paymentLinkId, ListSharingEventsRequest request, RequestOptions requestOptions) {
        return this.rawClient.list(paymentLinkId, request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Use this method to email a payment link to a customer.
     * <p>To email a payment link, you need its paymentLinkId. Our gateway returned the paymentLinkId in the response of the <a href="https://docs.payroc.com/api/schema/payment-links/create">Create Payment Link</a> method.</p>
     * <p><strong>Note:</strong> If you don't have the paymentLinkId, use our <a href="https://docs.payroc.com/api/schema/payment-links/list">List Payment Links</a> method to search for the payment link.</p>
     * <p>In the request, you must provide the recipient's name and email address.</p>
     * <p>In the response, our gateway returns a sharingEventId, which you can use to <a href="https://docs.payroc.com/api/schema/payment-links/sharing-events/list">List Payment Link Sharing Events</a>.</p>
     */
    public CompletableFuture<PaymentLinkEmailShareEvent> share(
            String paymentLinkId, ShareSharingEventsRequest request) {
        return this.rawClient.share(paymentLinkId, request).thenApply(response -> response.body());
    }

    /**
     * Use this method to email a payment link to a customer.
     * <p>To email a payment link, you need its paymentLinkId. Our gateway returned the paymentLinkId in the response of the <a href="https://docs.payroc.com/api/schema/payment-links/create">Create Payment Link</a> method.</p>
     * <p><strong>Note:</strong> If you don't have the paymentLinkId, use our <a href="https://docs.payroc.com/api/schema/payment-links/list">List Payment Links</a> method to search for the payment link.</p>
     * <p>In the request, you must provide the recipient's name and email address.</p>
     * <p>In the response, our gateway returns a sharingEventId, which you can use to <a href="https://docs.payroc.com/api/schema/payment-links/sharing-events/list">List Payment Link Sharing Events</a>.</p>
     */
    public CompletableFuture<PaymentLinkEmailShareEvent> share(
            String paymentLinkId, ShareSharingEventsRequest request, RequestOptions requestOptions) {
        return this.rawClient.share(paymentLinkId, request, requestOptions).thenApply(response -> response.body());
    }
}
