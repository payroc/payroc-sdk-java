/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.payroc.api.resources.payroccloud.refundinstructions;

import com.payroc.api.core.ClientOptions;
import com.payroc.api.core.RequestOptions;
import com.payroc.api.resources.payroccloud.refundinstructions.requests.DeleteRefundInstructionsRequest;
import com.payroc.api.resources.payroccloud.refundinstructions.requests.RefundInstructionRequest;
import com.payroc.api.resources.payroccloud.refundinstructions.requests.RetrieveRefundInstructionsRequest;
import com.payroc.api.types.RefundInstruction;
import java.util.concurrent.CompletableFuture;

public class AsyncRefundInstructionsClient {
    protected final ClientOptions clientOptions;

    private final AsyncRawRefundInstructionsClient rawClient;

    public AsyncRefundInstructionsClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new AsyncRawRefundInstructionsClient(clientOptions);
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public AsyncRawRefundInstructionsClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Use this method to submit an instruction request to initiate a refund on a payment device.
     * <p>In the request, include the refund amount and currency.</p>
     * <p>If the request is successful, our gateway returns information about the refund instruction and a refundInstructionId, which you need for the following methods:</p>
     * <ul>
     * <li><a href="https://docs.payroc.com/api/schema/payroc-cloud/refund-instructions/retrieve">Retrieve refund instruction</a> - View the details of the refund instruction.</li>
     * <li><a href="https://docs.payroc.com/api/schema/payroc-cloud/refund-instructions/delete">Cancel refund instruction</a> - Cancel the refund instruction.</li>
     * </ul>
     */
    public CompletableFuture<RefundInstruction> submit(String serialNumber, RefundInstructionRequest request) {
        return this.rawClient.submit(serialNumber, request).thenApply(response -> response.body());
    }

    /**
     * Use this method to submit an instruction request to initiate a refund on a payment device.
     * <p>In the request, include the refund amount and currency.</p>
     * <p>If the request is successful, our gateway returns information about the refund instruction and a refundInstructionId, which you need for the following methods:</p>
     * <ul>
     * <li><a href="https://docs.payroc.com/api/schema/payroc-cloud/refund-instructions/retrieve">Retrieve refund instruction</a> - View the details of the refund instruction.</li>
     * <li><a href="https://docs.payroc.com/api/schema/payroc-cloud/refund-instructions/delete">Cancel refund instruction</a> - Cancel the refund instruction.</li>
     * </ul>
     */
    public CompletableFuture<RefundInstruction> submit(
            String serialNumber, RefundInstructionRequest request, RequestOptions requestOptions) {
        return this.rawClient.submit(serialNumber, request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Use this method to retrieve information about a refund instruction.
     * <p>To retrieve a refund instruction, you need its refundInstructionId. Our gateway returned the refundInstructionId in the response of the <a href="https://docs.payroc.com/api/schema/payroc-cloud/refund-instructions/submit">Submit Refund Instruction</a> method.</p>
     * <p>Our gateway returns the status of the refund instruction. If the payment device completed the refund instruction, the response also includes a link to the refund.</p>
     */
    public CompletableFuture<RefundInstruction> retrieve(String refundInstructionId) {
        return this.rawClient.retrieve(refundInstructionId).thenApply(response -> response.body());
    }

    /**
     * Use this method to retrieve information about a refund instruction.
     * <p>To retrieve a refund instruction, you need its refundInstructionId. Our gateway returned the refundInstructionId in the response of the <a href="https://docs.payroc.com/api/schema/payroc-cloud/refund-instructions/submit">Submit Refund Instruction</a> method.</p>
     * <p>Our gateway returns the status of the refund instruction. If the payment device completed the refund instruction, the response also includes a link to the refund.</p>
     */
    public CompletableFuture<RefundInstruction> retrieve(
            String refundInstructionId, RetrieveRefundInstructionsRequest request) {
        return this.rawClient.retrieve(refundInstructionId, request).thenApply(response -> response.body());
    }

    /**
     * Use this method to retrieve information about a refund instruction.
     * <p>To retrieve a refund instruction, you need its refundInstructionId. Our gateway returned the refundInstructionId in the response of the <a href="https://docs.payroc.com/api/schema/payroc-cloud/refund-instructions/submit">Submit Refund Instruction</a> method.</p>
     * <p>Our gateway returns the status of the refund instruction. If the payment device completed the refund instruction, the response also includes a link to the refund.</p>
     */
    public CompletableFuture<RefundInstruction> retrieve(
            String refundInstructionId, RetrieveRefundInstructionsRequest request, RequestOptions requestOptions) {
        return this.rawClient
                .retrieve(refundInstructionId, request, requestOptions)
                .thenApply(response -> response.body());
    }

    /**
     * Use this method to cancel a refund instruction.
     * <p>You can cancel a refund instruction only if its status is <code>inProgress</code>. To retrieve the status of a refund instruction, use our <a href="https://docs.payroc.com/api/schema/payroc-cloud/refund-instructions/retrieve">Retrieve Refund Instruction</a> method.</p>
     * <p>To cancel a refund instruction, you need its refundInstructionId. Our gateway returned the refundInstructionId in the response of the <a href="https://docs.payroc.com/api/schema/payroc-cloud/refund-instructions/submit">Submit Refund Instruction</a> method.</p>
     */
    public CompletableFuture<Void> delete(String refundInstructionId) {
        return this.rawClient.delete(refundInstructionId).thenApply(response -> response.body());
    }

    /**
     * Use this method to cancel a refund instruction.
     * <p>You can cancel a refund instruction only if its status is <code>inProgress</code>. To retrieve the status of a refund instruction, use our <a href="https://docs.payroc.com/api/schema/payroc-cloud/refund-instructions/retrieve">Retrieve Refund Instruction</a> method.</p>
     * <p>To cancel a refund instruction, you need its refundInstructionId. Our gateway returned the refundInstructionId in the response of the <a href="https://docs.payroc.com/api/schema/payroc-cloud/refund-instructions/submit">Submit Refund Instruction</a> method.</p>
     */
    public CompletableFuture<Void> delete(String refundInstructionId, DeleteRefundInstructionsRequest request) {
        return this.rawClient.delete(refundInstructionId, request).thenApply(response -> response.body());
    }

    /**
     * Use this method to cancel a refund instruction.
     * <p>You can cancel a refund instruction only if its status is <code>inProgress</code>. To retrieve the status of a refund instruction, use our <a href="https://docs.payroc.com/api/schema/payroc-cloud/refund-instructions/retrieve">Retrieve Refund Instruction</a> method.</p>
     * <p>To cancel a refund instruction, you need its refundInstructionId. Our gateway returned the refundInstructionId in the response of the <a href="https://docs.payroc.com/api/schema/payroc-cloud/refund-instructions/submit">Submit Refund Instruction</a> method.</p>
     */
    public CompletableFuture<Void> delete(
            String refundInstructionId, DeleteRefundInstructionsRequest request, RequestOptions requestOptions) {
        return this.rawClient
                .delete(refundInstructionId, request, requestOptions)
                .thenApply(response -> response.body());
    }
}
