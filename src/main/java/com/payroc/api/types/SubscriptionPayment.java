/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.payroc.api.types;

import com.fasterxml.jackson.annotation.JsonAnyGetter;
import com.fasterxml.jackson.annotation.JsonAnySetter;
import com.fasterxml.jackson.annotation.JsonIgnoreProperties;
import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.annotation.JsonProperty;
import com.fasterxml.jackson.annotation.JsonSetter;
import com.fasterxml.jackson.annotation.Nulls;
import com.fasterxml.jackson.databind.annotation.JsonDeserialize;
import com.payroc.api.core.ObjectMappers;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.Objects;
import java.util.Optional;
import org.jetbrains.annotations.NotNull;

@JsonInclude(JsonInclude.Include.NON_ABSENT)
@JsonDeserialize(builder = SubscriptionPayment.Builder.class)
public final class SubscriptionPayment {
    private final String subscriptionId;

    private final String processingTerminalId;

    private final PaymentSummary payment;

    private final SecureTokenSummary secureToken;

    private final SubscriptionState currentState;

    private final Optional<List<CustomField>> customFields;

    private final Map<String, Object> additionalProperties;

    private SubscriptionPayment(
            String subscriptionId,
            String processingTerminalId,
            PaymentSummary payment,
            SecureTokenSummary secureToken,
            SubscriptionState currentState,
            Optional<List<CustomField>> customFields,
            Map<String, Object> additionalProperties) {
        this.subscriptionId = subscriptionId;
        this.processingTerminalId = processingTerminalId;
        this.payment = payment;
        this.secureToken = secureToken;
        this.currentState = currentState;
        this.customFields = customFields;
        this.additionalProperties = additionalProperties;
    }

    /**
     * @return Unique identifier that the merchant assigned to the subscription.
     */
    @JsonProperty("subscriptionId")
    public String getSubscriptionId() {
        return subscriptionId;
    }

    /**
     * @return Unique identifier of the terminal that the subscription is linked to.
     */
    @JsonProperty("processingTerminalId")
    public String getProcessingTerminalId() {
        return processingTerminalId;
    }

    @JsonProperty("payment")
    public PaymentSummary getPayment() {
        return payment;
    }

    @JsonProperty("secureToken")
    public SecureTokenSummary getSecureToken() {
        return secureToken;
    }

    @JsonProperty("currentState")
    public SubscriptionState getCurrentState() {
        return currentState;
    }

    /**
     * @return Array of customField objects.
     */
    @JsonProperty("customFields")
    public Optional<List<CustomField>> getCustomFields() {
        return customFields;
    }

    @java.lang.Override
    public boolean equals(Object other) {
        if (this == other) return true;
        return other instanceof SubscriptionPayment && equalTo((SubscriptionPayment) other);
    }

    @JsonAnyGetter
    public Map<String, Object> getAdditionalProperties() {
        return this.additionalProperties;
    }

    private boolean equalTo(SubscriptionPayment other) {
        return subscriptionId.equals(other.subscriptionId)
                && processingTerminalId.equals(other.processingTerminalId)
                && payment.equals(other.payment)
                && secureToken.equals(other.secureToken)
                && currentState.equals(other.currentState)
                && customFields.equals(other.customFields);
    }

    @java.lang.Override
    public int hashCode() {
        return Objects.hash(
                this.subscriptionId,
                this.processingTerminalId,
                this.payment,
                this.secureToken,
                this.currentState,
                this.customFields);
    }

    @java.lang.Override
    public String toString() {
        return ObjectMappers.stringify(this);
    }

    public static SubscriptionIdStage builder() {
        return new Builder();
    }

    public interface SubscriptionIdStage {
        /**
         * <p>Unique identifier that the merchant assigned to the subscription.</p>
         */
        ProcessingTerminalIdStage subscriptionId(@NotNull String subscriptionId);

        Builder from(SubscriptionPayment other);
    }

    public interface ProcessingTerminalIdStage {
        /**
         * <p>Unique identifier of the terminal that the subscription is linked to.</p>
         */
        PaymentStage processingTerminalId(@NotNull String processingTerminalId);
    }

    public interface PaymentStage {
        SecureTokenStage payment(@NotNull PaymentSummary payment);
    }

    public interface SecureTokenStage {
        CurrentStateStage secureToken(@NotNull SecureTokenSummary secureToken);
    }

    public interface CurrentStateStage {
        _FinalStage currentState(@NotNull SubscriptionState currentState);
    }

    public interface _FinalStage {
        SubscriptionPayment build();

        /**
         * <p>Array of customField objects.</p>
         */
        _FinalStage customFields(Optional<List<CustomField>> customFields);

        _FinalStage customFields(List<CustomField> customFields);
    }

    @JsonIgnoreProperties(ignoreUnknown = true)
    public static final class Builder
            implements SubscriptionIdStage,
                    ProcessingTerminalIdStage,
                    PaymentStage,
                    SecureTokenStage,
                    CurrentStateStage,
                    _FinalStage {
        private String subscriptionId;

        private String processingTerminalId;

        private PaymentSummary payment;

        private SecureTokenSummary secureToken;

        private SubscriptionState currentState;

        private Optional<List<CustomField>> customFields = Optional.empty();

        @JsonAnySetter
        private Map<String, Object> additionalProperties = new HashMap<>();

        private Builder() {}

        @java.lang.Override
        public Builder from(SubscriptionPayment other) {
            subscriptionId(other.getSubscriptionId());
            processingTerminalId(other.getProcessingTerminalId());
            payment(other.getPayment());
            secureToken(other.getSecureToken());
            currentState(other.getCurrentState());
            customFields(other.getCustomFields());
            return this;
        }

        /**
         * <p>Unique identifier that the merchant assigned to the subscription.</p>
         * <p>Unique identifier that the merchant assigned to the subscription.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        @JsonSetter("subscriptionId")
        public ProcessingTerminalIdStage subscriptionId(@NotNull String subscriptionId) {
            this.subscriptionId = Objects.requireNonNull(subscriptionId, "subscriptionId must not be null");
            return this;
        }

        /**
         * <p>Unique identifier of the terminal that the subscription is linked to.</p>
         * <p>Unique identifier of the terminal that the subscription is linked to.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        @JsonSetter("processingTerminalId")
        public PaymentStage processingTerminalId(@NotNull String processingTerminalId) {
            this.processingTerminalId =
                    Objects.requireNonNull(processingTerminalId, "processingTerminalId must not be null");
            return this;
        }

        @java.lang.Override
        @JsonSetter("payment")
        public SecureTokenStage payment(@NotNull PaymentSummary payment) {
            this.payment = Objects.requireNonNull(payment, "payment must not be null");
            return this;
        }

        @java.lang.Override
        @JsonSetter("secureToken")
        public CurrentStateStage secureToken(@NotNull SecureTokenSummary secureToken) {
            this.secureToken = Objects.requireNonNull(secureToken, "secureToken must not be null");
            return this;
        }

        @java.lang.Override
        @JsonSetter("currentState")
        public _FinalStage currentState(@NotNull SubscriptionState currentState) {
            this.currentState = Objects.requireNonNull(currentState, "currentState must not be null");
            return this;
        }

        /**
         * <p>Array of customField objects.</p>
         * @return Reference to {@code this} so that method calls can be chained together.
         */
        @java.lang.Override
        public _FinalStage customFields(List<CustomField> customFields) {
            this.customFields = Optional.ofNullable(customFields);
            return this;
        }

        /**
         * <p>Array of customField objects.</p>
         */
        @java.lang.Override
        @JsonSetter(value = "customFields", nulls = Nulls.SKIP)
        public _FinalStage customFields(Optional<List<CustomField>> customFields) {
            this.customFields = customFields;
            return this;
        }

        @java.lang.Override
        public SubscriptionPayment build() {
            return new SubscriptionPayment(
                    subscriptionId,
                    processingTerminalId,
                    payment,
                    secureToken,
                    currentState,
                    customFields,
                    additionalProperties);
        }
    }
}
